<idea-plugin>
    <id>com.typo3.fluid.accessibility-linter</id>
    <name>Fluid Accessibility Linter</name>
    <vendor>TYPO3 Community</vendor>
    <version>1.4.0</version>
    
    <description><![CDATA[
        Advanced accessibility linter for TYPO3 Fluid templates with context-aware intelligence.
        Provides sophisticated real-time accessibility checks including:
        <ul>
            <li><b>Enhanced Image Accessibility:</b> Context-aware alt text validation, decorative image detection, SVG support</li>
            <li><b>Smart Link Analysis:</b> Context-sensitive link text validation with surrounding content analysis</li>
            <li><b>Advanced Form Validation:</b> Fieldset grouping, placeholder anti-patterns, required field consistency</li>
            <li><b>Intelligent Heading Structure:</b> HTML5 sectioning awareness, Fluid layout understanding</li>
            <li><b>Table Classification:</b> Automatic layout vs data table detection with appropriate validation</li>
            <li><b>ARIA Intelligence:</b> Implicit role detection, context-appropriate validation, unnecessary aria-label detection</li>
            <li><b>Navigation Optimization:</b> Skip link target validation, landmark redundancy detection</li>
            <li><b>Interactive Components:</b> Modal focus management, accordion state tracking, tab keyboard navigation</li>
            <li><b>Live Region Management:</b> Content prioritization, competing region detection</li>
            <li><b>Multilingual Support:</b> Language attribute consistency, content language detection</li>
            <li><b>List Semantics:</b> Content-aware ordered vs unordered validation</li>
            <li><b>Radio/Checkbox Groups:</b> Intelligent grouping detection and validation</li>
        </ul>
        <br/>
        <b>Version 1.4.0:</b> All inspections enhanced with context-aware intelligence and sophisticated validation logic.
    ]]></description>
    
    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.modules.lang</depends>
    
    <extensions defaultExtensionNs="com.intellij">
        <!-- Phase 1: Core Accessibility Inspections -->
        
        <!-- Enhanced Image Accessibility (replaces basic MissingAltTextInspection) -->
        <localInspection language="HTML"
                         displayName="Enhanced image accessibility checks"
                         groupName="Fluid Accessibility"
                         enabledByDefault="true"
                         level="ERROR"
                         implementationClass="com.typo3.fluid.linter.inspections.EnhancedImageAccessibilityInspection"/>
        
        <!-- Form Accessibility -->
        <localInspection language="HTML"
                         displayName="Form inputs missing labels"
                         groupName="Fluid Accessibility"
                         enabledByDefault="true"
                         level="ERROR"
                         implementationClass="com.typo3.fluid.linter.inspections.MissingFormLabelInspection"/>
        
        <localInspection language="HTML"
                         displayName="Radio/checkbox groups missing fieldset"
                         groupName="Fluid Accessibility"
                         enabledByDefault="true"
                         level="ERROR"
                         implementationClass="com.typo3.fluid.linter.inspections.RadioGroupFieldsetInspection"/>
        
        <!-- Document Structure -->
        <localInspection language="HTML"
                         displayName="Heading hierarchy issues"
                         groupName="Fluid Accessibility"
                         enabledByDefault="true"
                         level="WARNING"
                         implementationClass="com.typo3.fluid.linter.inspections.HeadingHierarchyInspection"/>
        
        <localInspection language="HTML"
                         displayName="Page language attributes"
                         groupName="Fluid Accessibility"
                         enabledByDefault="true"
                         level="ERROR"
                         implementationClass="com.typo3.fluid.linter.inspections.PageLanguageInspection"/>
        
        <!-- Phase 2: Navigation & Structure Accessibility Inspections -->
        
        <!-- Link Text Quality -->
        <localInspection language="HTML"
                         displayName="Non-descriptive link text"
                         groupName="Fluid Accessibility"
                         enabledByDefault="true"
                         level="WARNING"
                         implementationClass="com.typo3.fluid.linter.inspections.LinkTextInspection"/>
        
        <!-- Navigation Structure -->
        <localInspection language="HTML"
                         displayName="Navigation landmark issues"
                         groupName="Fluid Accessibility"
                         enabledByDefault="true"
                         level="WARNING"
                         implementationClass="com.typo3.fluid.linter.inspections.NavigationLandmarkInspection"/>
        
        <localInspection language="HTML"
                         displayName="Missing skip navigation links"
                         groupName="Fluid Accessibility"
                         enabledByDefault="true"
                         level="WARNING"
                         implementationClass="com.typo3.fluid.linter.inspections.SkipLinksInspection"/>
        
        <!-- Enhanced List Validation -->
        <localInspection language="HTML"
                         displayName="Enhanced list semantic issues"
                         groupName="Fluid Accessibility"
                         enabledByDefault="true"
                         level="WARNING"
                         implementationClass="com.typo3.fluid.linter.inspections.ListSemanticInspection"/>
        
        <!-- Table Accessibility -->
        <localInspection language="HTML"
                         displayName="Table accessibility issues"
                         groupName="Fluid Accessibility"
                         enabledByDefault="true"
                         level="WARNING"
                         implementationClass="com.typo3.fluid.linter.inspections.TableAccessibilityInspection"/>
        
        <!-- Phase 3: ARIA Roles & Interactive Components -->
        
        <!-- ARIA Role Validation -->
        <localInspection language="HTML"
                         displayName="Invalid or misused ARIA roles"
                         groupName="Fluid Accessibility"
                         enabledByDefault="true"
                         level="ERROR"
                         implementationClass="com.typo3.fluid.linter.inspections.AriaRoleInspection"/>
        
        <!-- Modal Dialog Accessibility -->
        <localInspection language="HTML"
                         displayName="Modal dialog accessibility issues"
                         groupName="Fluid Accessibility"
                         enabledByDefault="true"
                         level="WARNING"
                         implementationClass="com.typo3.fluid.linter.inspections.ModalDialogInspection"/>
        
        <!-- Accordion/Collapsible Content -->
        <localInspection language="HTML"
                         displayName="Accordion and collapsible content accessibility issues"
                         groupName="Fluid Accessibility"
                         enabledByDefault="true"
                         level="WARNING"
                         implementationClass="com.typo3.fluid.linter.inspections.AccordionAccessibilityInspection"/>
        
        <!-- Tab Panel Interface -->
        <localInspection language="HTML"
                         displayName="Tab panel interface accessibility issues"
                         groupName="Fluid Accessibility"
                         enabledByDefault="true"
                         level="WARNING"
                         implementationClass="com.typo3.fluid.linter.inspections.TabPanelInspection"/>
        
        <!-- Live Regions -->
        <localInspection language="HTML"
                         displayName="Live region and dynamic content announcement issues"
                         groupName="Fluid Accessibility"
                         enabledByDefault="true"
                         level="WARNING"
                         implementationClass="com.typo3.fluid.linter.inspections.LiveRegionInspection"/>
        
        <!-- Enhanced aria-label Validation -->
        <localInspection language="HTML"
                         displayName="Comprehensive aria-label validation"
                         groupName="Fluid Accessibility"
                         enabledByDefault="true"
                         level="WARNING"
                         implementationClass="com.typo3.fluid.linter.inspections.AriaLabelValidationInspection"/>
        
        <!-- Existing Inspections (kept for backward compatibility) -->
        <localInspection language="HTML"
                         displayName="Invalid list structure (Fluid)"
                         groupName="Fluid Accessibility"
                         enabledByDefault="true"
                         level="WARNING"
                         implementationClass="com.typo3.fluid.linter.inspections.InvalidListStructureInspection"/>
        
        <!-- Enhanced Inspections with Context-Aware Intelligence (v1.4.0) -->
        <!-- These can be enabled as alternatives to the basic inspections above -->
        
        <!-- Enhanced Versions of Existing Inspections -->
        <localInspection language="HTML"
                         displayName="[Enhanced] Link text with context analysis"
                         groupName="Fluid Accessibility - Enhanced"
                         enabledByDefault="false"
                         level="WARNING"
                         implementationClass="com.typo3.fluid.linter.inspections.EnhancedLinkTextInspection"/>
        
        <localInspection language="HTML"
                         displayName="[Enhanced] Heading hierarchy with HTML5 sectioning"
                         groupName="Fluid Accessibility - Enhanced"
                         enabledByDefault="false"
                         level="WARNING"
                         implementationClass="com.typo3.fluid.linter.inspections.EnhancedHeadingHierarchyInspection"/>
        
        <localInspection language="HTML"
                         displayName="[Enhanced] Table accessibility with layout detection"
                         groupName="Fluid Accessibility - Enhanced"
                         enabledByDefault="false"
                         level="WARNING"
                         implementationClass="com.typo3.fluid.linter.inspections.EnhancedTableAccessibilityInspection"/>
        
        <localInspection language="HTML"
                         displayName="[Enhanced] Form labels with fieldset grouping"
                         groupName="Fluid Accessibility - Enhanced"
                         enabledByDefault="false"
                         level="ERROR"
                         implementationClass="com.typo3.fluid.linter.inspections.EnhancedFormLabelInspection"/>
        
        <localInspection language="HTML"
                         displayName="[Enhanced] Navigation landmarks with redundancy detection"
                         groupName="Fluid Accessibility - Enhanced"
                         enabledByDefault="false"
                         level="WARNING"
                         implementationClass="com.typo3.fluid.linter.inspections.EnhancedNavigationLandmarkInspection"/>
        
        <localInspection language="HTML"
                         displayName="[Enhanced] ARIA roles with implicit role detection"
                         groupName="Fluid Accessibility - Enhanced"
                         enabledByDefault="false"
                         level="ERROR"
                         implementationClass="com.typo3.fluid.linter.inspections.EnhancedAriaRoleInspection"/>
        
        <localInspection language="HTML"
                         displayName="[Enhanced] Modal dialogs with focus management"
                         groupName="Fluid Accessibility - Enhanced"
                         enabledByDefault="false"
                         level="WARNING"
                         implementationClass="com.typo3.fluid.linter.inspections.EnhancedModalDialogInspection"/>
        
        <localInspection language="HTML"
                         displayName="[Enhanced] Accordion with state management"
                         groupName="Fluid Accessibility - Enhanced"
                         enabledByDefault="false"
                         level="WARNING"
                         implementationClass="com.typo3.fluid.linter.inspections.EnhancedAccordionAccessibilityInspection"/>
        
        <localInspection language="HTML"
                         displayName="[Enhanced] Tab panels with keyboard navigation"
                         groupName="Fluid Accessibility - Enhanced"
                         enabledByDefault="false"
                         level="WARNING"
                         implementationClass="com.typo3.fluid.linter.inspections.EnhancedTabPanelInspection"/>
        
        <localInspection language="HTML"
                         displayName="[Enhanced] Live regions with content prioritization"
                         groupName="Fluid Accessibility - Enhanced"
                         enabledByDefault="false"
                         level="WARNING"
                         implementationClass="com.typo3.fluid.linter.inspections.EnhancedLiveRegionInspection"/>
        
        <localInspection language="HTML"
                         displayName="[Enhanced] Skip links with target validation"
                         groupName="Fluid Accessibility - Enhanced"
                         enabledByDefault="false"
                         level="WARNING"
                         implementationClass="com.typo3.fluid.linter.inspections.EnhancedSkipLinksInspection"/>
        
        <localInspection language="HTML"
                         displayName="[Enhanced] List semantics with content analysis"
                         groupName="Fluid Accessibility - Enhanced"
                         enabledByDefault="false"
                         level="WARNING"
                         implementationClass="com.typo3.fluid.linter.inspections.EnhancedListSemanticInspection"/>
        
        <localInspection language="HTML"
                         displayName="[Enhanced] Radio/checkbox groups with intelligent grouping"
                         groupName="Fluid Accessibility - Enhanced"
                         enabledByDefault="false"
                         level="ERROR"
                         implementationClass="com.typo3.fluid.linter.inspections.EnhancedRadioGroupFieldsetInspection"/>
        
        <localInspection language="HTML"
                         displayName="[Enhanced] Page language with multilingual detection"
                         groupName="Fluid Accessibility - Enhanced"
                         enabledByDefault="false"
                         level="ERROR"
                         implementationClass="com.typo3.fluid.linter.inspections.EnhancedPageLanguageInspection"/>
    </extensions>
</idea-plugin>